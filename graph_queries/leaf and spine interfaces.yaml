name: All interfaces on all leafs and all spines
description: >
  Finds all interfaces on all leafs and spines with assigned device, irrespective of
  leaf/spine being active and deployed in the blueprint
query: >
  match(
    node('system', name='system', role=is_in(['spine', 'leaf']), system_id=not_none())
    .out('hosted_interfaces')
    .node('interface', name='system_intf')
  )
variants:
  - >
      Add deploy_mode check to get only leafs/spines that are actively in service
  - >
      Add if_type check to system_intf to filter only physical or loopback or
      subinterface or vtep etc
